@startuml

actor Administrateur
actor Utilisateur

package "Authentification" {
    usecase "Login" as UC_LOGIN
    usecase "Logout" as UC_LOGOUT
}

package "Administrateur" {
    usecase "Ajouter de nouveaux livres" as UC_AJOUTER_LIVRES
    usecase "Modifier les informations d’un livre" as UC_MODIFIER_LIVRE
    usecase "Supprimer un livre" as UC_SUPPRIMER_LIVRE
    usecase "Consulter la liste complète des livres empruntés" as UC_CONSULTER_LIVRES_EMPRUNTES
    usecase "Ajouter, modifier ou supprimer les informations des utilisateurs" as UC_GERER_UTILISATEURS
    usecase "Gérer les emprunts et les retours de livres" as UC_GERER_EMPRUNTS
    usecase "Générer un rapport des emprunts et statistiques" as UC_GENERER_RAPPORT
    usecase "Consulter l’historique d’emprunts d’un utilisateur" as UC_CONSULTER_HISTORIQUE
    usecase "Définir les règles de prêt" as UC_DEFINIR_REGLES_PRET
    usecase "Recevoir des notifications de dépassement de prêt" as UC_RECEVOIR_NOTIF_PRET
}

package "Utilisateur" {
    usecase "Rechercher un livre" as UC_RECHERCHER_LIVRE
    usecase "Consulter la disponibilité d’un livre" as UC_CONSULTER_DISPONIBILITE
    usecase "Emprunter un livre" as UC_EMPRUNTER_LIVRE
    usecase "Consulter mes emprunts" as UC_CONSULTER_MES_EMPRUNTS
    usecase "Prolonger la durée d’emprunt" as UC_PROLONGER_EMPRUNT
    usecase "Réserver un livre emprunté" as UC_RESERVER_LIVRE
    usecase "Recevoir des notifications ou rappels" as UC_RECEVOIR_NOTIF_RAPPEL
    usecase "Accéder à l'interface utilisateur" as UC_ACCES_INTERFACE
    usecase "Consulter l’historique de mes emprunts" as UC_CONSULTER_HISTORIQUE_MES_EMPRUNTS
}

' Relations d'Authentification
Administrateur --> UC_LOGIN
Administrateur --> UC_LOGOUT
Utilisateur --> UC_LOGIN
Utilisateur --> UC_LOGOUT

' Accès à l'interface utilisateur après login
UC_LOGIN --> UC_ACCES_INTERFACE : <<include>>
UC_LOGOUT --> UC_ACCES_INTERFACE : <<include>>

' Relations pour Administrateur
Administrateur --> UC_AJOUTER_LIVRES
Administrateur --> UC_MODIFIER_LIVRE
Administrateur --> UC_SUPPRIMER_LIVRE
Administrateur --> UC_CONSULTER_LIVRES_EMPRUNTES
Administrateur --> UC_GERER_UTILISATEURS
Administrateur --> UC_GERER_EMPRUNTS
Administrateur --> UC_GENERER_RAPPORT
Administrateur --> UC_CONSULTER_HISTORIQUE
Administrateur --> UC_DEFINIR_REGLES_PRET
Administrateur --> UC_RECEVOIR_NOTIF_PRET

' Relations pour Utilisateur
Utilisateur --> UC_RECHERCHER_LIVRE
Utilisateur --> UC_CONSULTER_DISPONIBILITE
Utilisateur --> UC_EMPRUNTER_LIVRE
Utilisateur --> UC_CONSULTER_MES_EMPRUNTS
Utilisateur --> UC_PROLONGER_EMPRUNT
Utilisateur --> UC_RESERVER_LIVRE
Utilisateur --> UC_RECEVOIR_NOTIF_RAPPEL
Utilisateur --> UC_ACCES_INTERFACE
Utilisateur --> UC_CONSULTER_HISTORIQUE_MES_EMPRUNTS

' Relations Include pour Administrateur
UC_GERER_EMPRUNTS --> UC_CONSULTER_LIVRES_EMPRUNTES : <<include>>
UC_GERER_EMPRUNTS --> UC_CONSULTER_HISTORIQUE : <<include>>
UC_GERER_UTILISATEURS --> UC_DEFINIR_REGLES_PRET : <<include>>

' Relations Include pour Utilisateur
UC_EMPRUNTER_LIVRE --> UC_RECHERCHER_LIVRE : <<include>>
UC_EMPRUNTER_LIVRE --> UC_CONSULTER_DISPONIBILITE : <<include>>
UC_PROLONGER_EMPRUNT --> UC_CONSULTER_MES_EMPRUNTS : <<include>>

' Relations Extend pour Administrateur
UC_RECEVOIR_NOTIF_PRET .> UC_GERER_EMPRUNTS : <<extend>>
UC_GENERER_RAPPORT .> UC_CONSULTER_LIVRES_EMPRUNTES : <<extend>>

' Relations Extend pour Utilisateur
UC_RESERVER_LIVRE .> UC_EMPRUNTER_LIVRE : <<extend>>
UC_RECEVOIR_NOTIF_RAPPEL .> UC_CONSULTER_MES_EMPRUNTS : <<extend>>

@enduml
